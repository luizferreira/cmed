[amberjack]
steps =
    aba_paciente
    adicione_paciente
    preencher_campos
    parabens

title = Como cadastrar Paciente.

[aba_paciente]
blueprint = collective.amberjack.blueprints.step
text = 
title = Acesse a seção dos Pacientes
url = /
microsteps =
    microstep_0_0
    microstep_0_1
    
[microstep_0_0]
blueprint = collective.amberjack.blueprints.windmillmicrostep
text = {'milliseconds':0}
method = waits.sleep
description = Se você não deseja realizar cada passo da tarefa, clique na seta ao lado de cada operação para que ela seja realizada automaticamente pelo seu navegador.

[microstep_0_1]
blueprint = collective.amberjack.blueprints.windmillmicrostep
selector = {'xpath':'//*[@id="portaltab-Patients"]/a'}
method = click
description = Clique na aba Pacientes

[adicione_paciente]
blueprint = collective.amberjack.blueprints.step
text = 
title = Adicione o paciente
url = /Patients
microsteps =
    microstep_1_0
    microstep_1_1
    microstep_1_2

[microstep_1_0]
blueprint = collective.amberjack.blueprints.windmillmicrostep
selector = {'xpath':'//*[@id="plone-contentmenu-factories"]/dt/a/span[1]'}
method = click
description = Clique Adicionar item ...


[microstep_1_1]
blueprint = collective.amberjack.blueprints.windmillmicrostep
selector = {'xpath':'//*[@id="patient"]'}
method = click
description = Clique no item Pacientes

[microstep_1_2]
blueprint = collective.amberjack.blueprints.windmillmicrostep
text = {'timeout' : "20000"}
method = waits.forPageLoad
description = 

[preencher_campos]
blueprint = collective.amberjack.blueprints.step
text = 
title = Adicione o paciente
url = aj_any_url
microsteps =
    microstep_2_0
    microstep_2_1
    microstep_2_2
    microstep_2_3
    microstep_2_4
    microstep_2_5
    microstep_2_6
    microstep_2_7
    microstep_2_8
    microstep_2_9
    microstep_2_10
    microstep_2_11

[microstep_2_0]
blueprint = collective.amberjack.blueprints.windmillmicrostep
text = {'timeout' : "20000"}
method = waits.forPageLoad
description = Preencheremos apenas os campos obrigatórios para o sistema, você deve notar que há diversos outros campos complementares para tornar o atendimento mais completo.

[microstep_2_1]
blueprint = collective.amberjack.blueprints.windmillmicrostep
text = {'text' : "Jose"}
selector = {'id' : "firstName"}
method = type
description = No campo nome, digite 'Jose'.
condition = checkstep

[microstep_2_2]
blueprint = collective.amberjack.blueprints.windmillmicrostep
text = {'text' : "Antonio"}
selector = {'id' : "lastName"}
method = type
description = No campo sobrenome, digite 'Antonio'.
condition = checkstep

[microstep_2_3]
blueprint = collective.amberjack.blueprints.windmillmicrostep
text = {'milliseconds':0}
method = waits.sleep
description = O campo telefone residencial ou celular deve ser obrigatoriamente preenchido. Vamos preencher o campo de Telefone. O sistema utiliza estes dados para identificar pessoas com o mesmo nome.

[microstep_2_4]
blueprint = collective.amberjack.blueprints.windmillmicrostep
text = {'text' : "31"}
selector = {'id' : 'ahomePhone'}
method = type
description = Preencha o DDD com o número: 31
condition = checkstep

[microstep_2_5]
blueprint = collective.amberjack.blueprints.windmillmicrostep
text = {'text' : "99998888"}
selector = {'xpath' : '//*[@id="archetypes-fieldname-homePhone"]/input[1]'}
method = type
description = Preencha o telefone com o número ficticio: 99998888
condition = checkstep

[microstep_2_6]
blueprint = collective.amberjack.blueprints.windmillmicrostep
method = highlight
selector = {'id' : 'archetypes-fieldname-contactPhone'}
description = Note que socilictamos que marque a preferência de contato do paciente.

[microstep_2_7]
blueprint = collective.amberjack.blueprints.windmillmicrostep
text = {'radio' : "checked"}
selector = {'xpath' : '//*[@id="cphone_residencial"]'}
method = radio
description = Como preenchemos apenas o telefone residencial, marque esta opção.
condition = checkstep

[microstep_2_8]
blueprint = collective.amberjack.blueprints.windmillmicrostep
method = click
selector = {'xpath' : '//*[@id="fieldsetlegend-complementar"]/span'}
description = Clique na aba 'Complementar' para adicionar outros dados pessoais relevantes do paciente, como CPF e Identidade.

[microstep_2_9]
blueprint = collective.amberjack.blueprints.windmillmicrostep
method = click
selector = {'xpath' : '//*[@id="fieldsetlegend-planos-de-saude"]/span'}
description = Clique na aba 'Planos de Saúde' para adicionar dados referentes ao plano de sáude do paciente.

[microstep_2_10]
blueprint = collective.amberjack.blueprints.windmillmicrostep
method = click
selector = {'xpath' : '//*[@id="fieldsetlegend-demografico"]/span'}
description = Clique na aba 'Demográfico' para adicionar outros dados do paciente como, nome da mãe e foto.

[microstep_2_11]
blueprint = collective.amberjack.blueprints.windmillmicrostep
method = click
selector = {'xpath' : '//*[@id="patient-base-edit"]/div/input[10]'}
description = Por fim clique no botão Salvar para finalizar o cadastro.
condition = checkstep

[parabens]
blueprint = collective.amberjack.blueprints.step
text = 
title = Concluído.
url = aj_any_url
microsteps =
    microstep_3_0

[microstep_3_0]
blueprint = collective.amberjack.blueprints.windmillmicrostep
text = {'milliseconds' : "0"}
method = waits.sleep
description = Agora você tem o paciente "Jose Antonio" cadastrado com sucesso.