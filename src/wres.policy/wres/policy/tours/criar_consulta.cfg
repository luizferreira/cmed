[amberjack]
steps =
    acessar_calendario
    selecionar_horario
title = Como criar uma vaca.

[acessar_calendario]
blueprint = collective.amberjack.blueprints.step
text = 
title = Acesse a seção do Calendário
url = /Appointments/dteste/Agenda
microsteps =
    microstep_0_0
    microstep_0_1
    microstep_0_2
    
[microstep_0_0]
blueprint = collective.amberjack.blueprints.windmillmicrostep
text = {'milliseconds':0}
method = waits.sleep
description = Se você não deseja realizar a tarefa, clique na seta ao lado para que ela seja realizada automaticamente pelo seu navegador.

[microstep_0_1]
blueprint = collective.amberjack.blueprints.windmillmicrostep
text = {'milliseconds':0}
method = waits.sleep
description = Certifique-se que você está logado como médico para iniciar esta tarefa.

[microstep_0_2]
blueprint = collective.amberjack.blueprints.windmillmicrostep
selector = {'id':'portaltab-calendar'}
method = click
description = Clique na aba "Calendario".

[selecionar_horario]
blueprint = collective.amberjack.blueprints.step
text = 
title = Selecionar o Horário da Consulta
url = /Appointments/dteste/Agenda
microsteps =
    microstep_1_0
    microstep_1_1

[microstep_1_0]
blueprint = collective.amberjack.blueprints.windmillmicrostep
text = {'timeout' : "20000"}
method = waits.forPageLoad
description = Para criar uma consulta, primeiramente escolhemos sua data (colunas) e seu horário(linhas). 

[microstep_1_1]
blueprint = collective.amberjack.blueprints.windmillmicrostep
text = {'milliseconds':0}
selector = {'xpath' : '//*[@id="calendar"]/div[1]/div/div/div[3]/div/table/tbody/tr[7]/td/div'}
method = click
description = Clique e arraste no calendário de acordo com a data e horário desejado
