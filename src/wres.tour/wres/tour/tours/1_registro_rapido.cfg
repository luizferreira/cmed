[amberjack]
steps =
    acessar_calendario
    selecionar_horario

title = Marcando consulta de um paciente nao cadastrado (Registro Rapido).

[acessar_calendario]
blueprint = collective.amberjack.blueprints.step
text =
title = Acesse a seção do Calendário
url = aj_any_url
microsteps =
    microstep_0_0
    microstep_0_1
    microstep_0_2
    microstep_0_3

[microstep_0_0]
blueprint = collective.amberjack.blueprints.windmillmicrostep
text = {'milliseconds':0}
method = waits.sleep
description = Se você não deseja realizar cada passo da tarefa, clique na seta ao lado de cada operação para que ela seja realizada automaticamente pelo seu navegador.

[microstep_0_1]
blueprint = collective.amberjack.blueprints.windmillmicrostep
text = {'milliseconds':0}
method = waits.sleep
description = O registro rápido é uma <b>maneira eficente que o médico e a secretária possui de agendar uma consulta</b> sem que o paciente ja tenha sido cadastrado no sistema. Cadastrando-o paralelamente com o agendamento.


[microstep_0_2]
blueprint = collective.amberjack.blueprints.windmillmicrostep
text = {'milliseconds':0}
method = waits.sleep
description = Certifique-se que você está <b>logado como médico ou como secretária</b> para iniciar esta tarefa.

[microstep_0_3]
blueprint = collective.amberjack.blueprints.windmillmicrostep
selector = {'xpath':'//*[@id="portaltab-calendar"]/a'}
method = click
description = Clique na aba "Calendario".

[selecionar_horario]
blueprint = collective.amberjack.blueprints.step
text =
title = Selecionar o Horário da Consulta
url = aj_any_url
microsteps =
    microstep_1_0
    microstep_1_1
    microstep_1_2
    microstep_1_3
    microstep_1_4

[microstep_1_0]
blueprint = collective.amberjack.blueprints.windmillmicrostep
text = {'timeout' : "20000"}
method = waits.forPageLoad
description = Para criar uma consulta, primeiramente escolhemos sua data (colunas) e seu horário(linhas). Neste caso criaremos uma consulta na Terça-Feira das 14h ás 15h.<b> Clique, arraste e solte</b> no calendário de acordo com a data e horário citados.

[microstep_1_1]
blueprint = collective.amberjack.blueprints.windmillmicrostep
text = {'timeout' : "40000"}
selector = {'id':'popup_quick_register_patient'}
method = waits.forElement
description = Observe que podemos registrar um paciente rapidamente atráves do botão registro rápido.

[microstep_1_2]
blueprint = collective.amberjack.blueprints.windmillmicrostep
selector = {'id':'popup_quick_register_patient'}
method = click
description = Clique no botão <b>Registro Rápido</b> e na nova janela preencha os campos com os dados do paciente. Os campos em destaque são obrigatórios.<br />Clique em <b>Registrar</b> e depois <b>Selecionar</b>.

[microstep_1_3]
blueprint = collective.amberjack.blueprints.windmillmicrostep
text = {'milliseconds':0}
method = waits.sleep
description = Pronto, o paciente já esta cadastrado no sistema e selecionado para a consulta que você estava marcando, termine de preencher os campos da consulta. Para mais informações referente aos campos da consulta, entre no tutorial <b>Marcando consulta de paciente ja cadastrado</b>.

[microstep_1_4]
blueprint = collective.amberjack.blueprints.windmillmicrostep
selector = {'name':'form.button.save'}
method = click
description = Clique no botão "Salvar" para finalizar a criação da consulta.
condition = checkstep