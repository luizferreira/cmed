[amberjack]
steps =
    aba_paciente
    editar_paciente
    visualizando_paciente

title = Editando paciente pela secao Pacientes.

[aba_paciente]
blueprint = collective.amberjack.blueprints.step
text =
title = Acesse a seção 'Pacientes'
url = /
microsteps =
    microstep_0_0
    microstep_0_1
    microstep_0_2

[microstep_0_0]
blueprint = collective.amberjack.blueprints.windmillmicrostep
text = {'milliseconds':0}
method = waits.sleep
description = Neste tutorial aprenderemos como editar um paciente previamente criado.

[microstep_0_1]
blueprint = collective.amberjack.blueprints.windmillmicrostep
text = {'milliseconds':0}
method = waits.sleep
description = Caso você não tenha cadastrado nenhum paciente no sistema ainda, feche esta janelinha para voltar ao Centro de Ajuda e realize o tutorial: <b>Marcando consulta de um paciente não cadastrado</b>.

[microstep_0_2]
blueprint = collective.amberjack.blueprints.windmillmicrostep
selector = {'xpath':'//*[@id="portaltab-Patients"]/a'}
method = click
description = Para começar, clique na seção <b>Pacientes</b>.

[editar_paciente]
blueprint = collective.amberjack.blueprints.step
text =
title = Edite um paciente
url = /Patients
microsteps =
    microstep_1_0
    microstep_1_1
    microstep_1_2
    microstep_1_3
    microstep_1_4
    microstep_1_5

[microstep_1_0]
blueprint = collective.amberjack.blueprints.windmillmicrostep
selector = {'xpath':'//*[@id="plone-contentmenu-factories"]/dt/a/span[1]'}
method = highlight
description = Esta é a pasta de pacientes. Aqui você pode criar novos pacientes (pelo botão <b>Adicionar</b>) ou acessar os dados pessoais e prontuário dos pacientes já existentes.

[microstep_1_1]
blueprint = collective.amberjack.blueprints.windmillmicrostep
selector = {'name':'Title'}
method = click
description = Como vamos editar um paciente já existente, <b>clique na caixa de pesquisa ágil</b> em destacada.
condition = checkstep

[microstep_1_2]
blueprint = collective.amberjack.blueprints.windmillmicrostep
text = {'milliseconds':0}
method = waits.sleep
description = Escreva o nome ou o sobrenome de um paciente já cadastrado.

[microstep_1_3]
blueprint = collective.amberjack.blueprints.windmillmicrostep
text = {'milliseconds':0}
method = waits.sleep
description = Clique no <b>nome do paciente</b>, observe logo ao lado o número do telefone de contato deste paciente e sua data de nascimento (evita confusão com homônimos).

[microstep_1_4]
blueprint = collective.amberjack.blueprints.windmillmicrostep
selector = {'xpath':'//*[@id="livesearch0"]/div'}
method = highlight
description = <b>Dica: </b>Você pode utilizar a busca no canto superior direito de sua tela (em destaque) para proucurar diretamente o prontuário do paciente, experimente!

[microstep_1_5]
blueprint = collective.amberjack.blueprints.windmillmicrostep
text = {'timeout' : "20000"}
method = waits.forPageLoad
description =

[visualizando_paciente]
blueprint = collective.amberjack.blueprints.step
text =
title = Visualizando dados do Paciente.
url = /Patients
microsteps =
    microstep_2_0

[microstep_2_0]
blueprint = collective.amberjack.blueprints.windmillmicrostep
text = {'milliseconds':0}
method = waits.sleep
description = Nesta página exibimos os dados do prontuário do paciente. 
