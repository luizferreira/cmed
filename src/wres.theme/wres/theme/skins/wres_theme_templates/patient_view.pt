<html xmlns="http://www.w3.org/1999/xhtml"
      xml:lang="en"
      lang="en"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      metal:use-macro="context/main_template/macros/master"
      i18n:domain="plone">

	<metal:block fill-slot="javascript_head_slot">
            <script type="text/javascript" src="patient_view.js"></script>
    </metal:block>
<head>

<title i18n:translate="cmfuemr_patient_search">Patient search</title>
    <metal:aux fill-slot="style_slot">
        <link rel="Stylesheet" type="text/css"
            tal:attributes="href string:${portal_url}/patient_view.css" />
    </metal:aux>

</head>

<body>

<div metal:fill-slot="main" id="main_chart_print"
	tal:define="
            title context/getFullName;
            id context/getId;
            script context/patient_view_script;
            patient context/getPatient;
            photo patient/photo | nothing">


    <center>
    	<div id="day_buttons_div">
            <a>	<span class="botao" id="principal_button">&nbsp;Principal&nbsp;</span> </a> -
            <a> <span class="botao" id="complementar_button">&nbsp;Complementar&nbsp;</span> </a> -
            <a> <span class="botao" id="demografico_button">&nbsp;Demogr√°fico&nbsp;</span> </a>
        </div>
<!--
    FieldSet Basico
-->

    <tal:for repeat="schemata script">
    <!--
    This small script in python gets the first word of schemata[0]
    -->
        <div tal:attributes="id python:schemata[0].split(' ',1)[0]">
            <fieldset id="fieldset_doc_view" ><legend tal:content="python:schemata[0]"> Legend </legend>
                <table id="tabela" border="0">
                <tal:for2 repeat="group python:schemata[1]">
                    <tr tal:condition="repeat/group/odd" bgColor="#FBFFFB">
                        <tal:for3 repeat="tupla group">
                            <tal:def define="field python:tupla[0]; value python:tupla[1]">
                                <td>
                                    <div class="label">
                                        <tal:print content="field/widget/label" />:
                                    </div>
                                    <td>
                                        <span class="dado"><metal:macro use-macro="python: context.widget(field.getName(),mode='view')" /></span>

                                </td>
                            </tal:def>
                        </tal:for3>
                    </tr>
                    <tr tal:condition="repeat/group/even" bgColor="#EEEEEE">
                        <tal:for3 repeat="tupla group">
                            <tal:def define="field python:tupla[0]; value python:tupla[1]">
                                <td>
                                    <div class="label">
                                        <tal:print content="field/widget/label" />:
                                    </div>
                                    <td>
                                        <span class="dado"><metal:macro use-macro="python: context.widget(field.getName(),mode='view')" /></span>

                                </td>
                            </tal:def>
                        </tal:for3>
                    </tr>
                </tal:for2>
                </table>
            </fieldset>
        </div   >
    </tal:for>

</center>
</div>
</body>
</html>
